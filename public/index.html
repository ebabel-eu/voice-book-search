<!doctype html>
<html amp lang="en">
  <head>
    <meta charset="utf-8">
    <title>Voice Book Search</title>

    <link rel="preload" as="script" href="https://cdn.ampproject.org/v0.js">
    <script async src="https://cdn.ampproject.org/v0.js"></script>

    <link rel="manifest" href="/manifest.json">

    <link rel="canonical" href="https://voice-book-search.firebaseapp.com">

    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="theme-color" content="#ffebcd">

    <meta name="description" content="Search for books with a voice activated input">
    <meta name="keywords" content="amp-html, web-components, service-worker, voice">

    <link rel="sitemap" type="application/xml" href="/sitemap.xml">

    <link rel="shortcut icon" href="/img/icons/icon-48x48.png">
    <link rel="apple-touch-icon" sizes="48x48" href="/img/icons/icon-48x48.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/icons/icon-72x72.png">
    <link rel="apple-touch-icon" sizes="96x96" href="/img/icons/icon-96x96.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/img/icons/icon-144x144.png">
    <link rel="apple-touch-icon" sizes="192x192" href="/img/icons/icon-192x192.png">
    <link rel="apple-touch-icon" sizes="256x256" href="/img/icons/icon-256x256.png">
    <link rel="apple-touch-icon" sizes="384x384" href="/img/icons/icon-384x384.png">
    <link rel="apple-touch-icon" sizes="512x512" href="/img/icons/icon-512x512.png">

    <script async custom-element="amp-form" src="https://cdn.ampproject.org/v0/amp-form-0.1.js"></script>
    <script async custom-template="amp-mustache" src="https://cdn.ampproject.org/v0/amp-mustache-0.2.js"></script>
    <script async custom-element="amp-carousel" src="https://cdn.ampproject.org/v0/amp-carousel-0.1.js"></script>
    <script async custom-element="amp-install-serviceworker" src="https://cdn.ampproject.org/v0/amp-install-serviceworker-0.1.js"></script>

    <style amp-custom>
      *{font-family:Verdana,Arial,sans-serif}a:link{color:#000;text-decoration:none}a:visited{color:#000}a:hover{color:#33F}.button{background:-webkit-linear-gradient(top,#008dfd 0,#0370ea 100%);border:1px solid #076bd2;border-radius:3px;color:#fff;display:none;font-size:13px;font-weight:bold;line-height:1.3;padding:8px 25px;text-align:center;text-shadow:1px 1px 1px #076bd2;letter-spacing:normal}.center{padding:10px;text-align:center}.final{color:black;padding-right:3px}.interim{color:gray}.info{font-size:14px;text-align:center;color:#777;display:none}.right{float:right}.sidebyside{display:inline-block;width:45%;min-height:40px;text-align:left;vertical-align:top}#headline{font-size:40px;font-weight:300}#info{font-size:20px;text-align:center;color:#777;visibility:hidden}#results{font-size:14px;font-weight:bold;border:1px solid #ddd;padding:15px;text-align:left;min-height:150px}#start_button{border:0;background-color:transparent;padding:0}button[type=submit]{border:0;background-color:transparent;padding:0}
    </style>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>

    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Webpage",
        "url": "https://voice-book-search.firebaseapp.com",
        "name": "Thomas Amar",
        "headline": "Voice activated book search",
        "description": "Search for books with a voice activated input",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https://voice-book-search.firebaseapp.com"
        },
        "publisher": {
          "@type": "Organization",
          "name": "eBabel",
          "logo": {
            "url": "https://voice-book-search.firebaseapp.com/img/icons/icon-512x512.png",
            "width": 512,
            "height": 512,
            "@type": "ImageObject"
          }
        },
        "image": {
          "@type": "ImageObject",
          "url": "https://voice-book-search.firebaseapp.com/img/icons/icon-512x512.png",
          "width": 512,
          "height": 512
        }
      }
    </script>
    <script>
      for(var langs=[["Afrikaans",["af-ZA"]],["Bahasa Indonesia",["id-ID"]],["Bahasa Melayu",["ms-MY"]],["Català",["ca-ES"]],["Čeština",["cs-CZ"]],["Deutsch",["de-DE"]],["English",["en-AU","Australia"],["en-CA","Canada"],["en-IN","India"],["en-NZ","New Zealand"],["en-ZA","South Africa"],["en-GB","United Kingdom"],["en-US","United States"]],["Español",["es-AR","Argentina"],["es-BO","Bolivia"],["es-CL","Chile"],["es-CO","Colombia"],["es-CR","Costa Rica"],["es-EC","Ecuador"],["es-SV","El Salvador"],["es-ES","España"],["es-US","Estados Unidos"],["es-GT","Guatemala"],["es-HN","Honduras"],["es-MX","México"],["es-NI","Nicaragua"],["es-PA","Panamá"],["es-PY","Paraguay"],["es-PE","Perú"],["es-PR","Puerto Rico"],["es-DO","República Dominicana"],["es-UY","Uruguay"],["es-VE","Venezuela"]],["Euskara",["eu-ES"]],["Français",["fr-FR"]],["Galego",["gl-ES"]],["Hrvatski",["hr_HR"]],["IsiZulu",["zu-ZA"]],["Íslenska",["is-IS"]],["Italiano",["it-IT","Italia"],["it-CH","Svizzera"]],["Magyar",["hu-HU"]],["Nederlands",["nl-NL"]],["Norsk bokmål",["nb-NO"]],["Polski",["pl-PL"]],["Português",["pt-BR","Brasil"],["pt-PT","Portugal"]],["Română",["ro-RO"]],["Slovenčina",["sk-SK"]],["Suomi",["fi-FI"]],["Svenska",["sv-SE"]],["Türkçe",["tr-TR"]],["български",["bg-BG"]],["Pусский",["ru-RU"]],["Српски",["sr-RS"]],["한국어",["ko-KR"]],["中文",["cmn-Hans-CN","普通话 (中国大陆)"],["cmn-Hans-HK","普通话 (香港)"],["cmn-Hant-TW","中文 (台灣)"],["yue-Hant-HK","粵語 (香港)"]],["日本語",["ja-JP"]],["Lingua latīna",["la"]]],i=0;i<langs.length;i++)select_language.options[i]=new Option(langs[i][0],i);function updateCountry(){for(var n=select_dialect.options.length-1;0<=n;n--)select_dialect.remove(n);var e=langs[select_language.selectedIndex];for(n=1;n<e.length;n++)select_dialect.options.add(new Option(e[n][1],e[n][0]));select_dialect.style.visibility=1==e[1].length?"hidden":"visible"}select_language.selectedIndex=6,updateCountry(),select_dialect.selectedIndex=6,showInfo("info_start");var ignore_onend,start_timestamp,create_email=!1,final_transcript="",recognizing=!1;if("webkitSpeechRecognition"in window){start_button.style.display="inline-block";var recognition=new webkitSpeechRecognition;recognition.continuous=!0,recognition.interimResults=!0,recognition.onstart=function(){recognizing=!0,showInfo("info_speak_now"),start_img.src="img/microphone/mic-animate.gif"},recognition.onerror=function(n){"no-speech"==n.error&&(start_img.src="img/microphone/mic.gif",showInfo("info_no_speech"),ignore_onend=!0),"audio-capture"==n.error&&(start_img.src="img/microphone/mic.gif",showInfo("info_no_microphone"),ignore_onend=!0),"not-allowed"==n.error&&(n.timeStamp-start_timestamp<100?showInfo("info_blocked"):showInfo("info_denied"),ignore_onend=!0)},recognition.onend=function(){if(recognizing=!1,!ignore_onend)if(start_img.src="img/microphone/mic.gif",final_transcript){if(showInfo(""),window.getSelection){window.getSelection().removeAllRanges();var n=document.createRange();n.selectNode(document.getElementById("final_span")),window.getSelection().addRange(n)}create_email&&(create_email=!1,createEmail())}else showInfo("info_start")},recognition.onresult=function(n){for(var e="",i=n.resultIndex;i<n.results.length;++i)n.results[i].isFinal?final_transcript+=n.results[i][0].transcript:e+=n.results[i][0].transcript;final_transcript=capitalize(final_transcript),final_span.innerHTML=linebreak(final_transcript),interim_span.innerHTML=linebreak(e),(final_transcript||e)&&showButtons("inline-block")}}else upgrade();function upgrade(){start_button.style.visibility="hidden",showInfo("info_upgrade")}var two_line=/\n\n/g,one_line=/\n/g;function linebreak(n){return n.replace(two_line,"<p></p>").replace(one_line,"<br>")}var current_style,first_char=/\S/;function capitalize(n){return n.replace(first_char,function(n){return n.toUpperCase()})}function createEmail(){var n=final_transcript.indexOf("\n");(n<0||80<=n)&&(n=40+final_transcript.substring(40).indexOf(" "));var e=encodeURI(final_transcript.substring(0,n)),i=encodeURI(final_transcript.substring(n+1));window.location.href="mailto:?subject="+e+"&body="+i}function copyButton(){recognizing&&(recognizing=!1,recognition.stop()),copy_button.style.display="none",copy_info.style.display="inline-block",showInfo("")}function emailButton(){recognizing?(recognizing=!(create_email=!0),recognition.stop()):createEmail(),email_button.style.display="none",email_info.style.display="inline-block",showInfo("")}function startButton(n){recognizing?recognition.stop():(final_transcript="",recognition.lang=select_dialect.value,recognition.start(),ignore_onend=!1,final_span.innerHTML="",interim_span.innerHTML="",start_img.src="img/microphone/mic-slash.gif",showInfo("info_allow"),showButtons("none"),start_timestamp=n.timeStamp)}function showInfo(n){if(n){for(var e=info.firstChild;e;e=e.nextSibling)e.style&&(e.style.display=e.id==n?"inline":"none");info.style.visibility="visible"}else info.style.visibility="hidden"}function showButtons(n){n!=current_style&&(current_style=n,copy_button.style.display=n,email_button.style.display=n,copy_info.style.display="none",email_info.style.display="none")}
    </script>
  </head>
  <body>
    <header>
      <h1>Voice Book Search</h1>
    </header>

    <div id="info">
      <p id="info_start">Click on the microphone icon and begin speaking.</p>
      <p id="info_speak_now">Speak now.</p>
      <p id="info_no_speech">No speech was detected. You may need to adjust your
        <a href="//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892">
          microphone settings</a>.</p>
      <p id="info_no_microphone" style="display:none">
        No microphone was found. Ensure that a microphone is installed and that
        <a href="//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892">
        microphone settings</a> are configured correctly.</p>
      <p id="info_allow">Click the "Allow" button above to enable your microphone.</p>
      <p id="info_denied">Permission to use microphone was denied.</p>
      <p id="info_blocked">Permission to use microphone is blocked. To change,
        go to chrome://settings/contentExceptions#media-stream</p>
      <p id="info_upgrade">Web Speech API is not supported by this browser.
         Upgrade to <a href="//www.google.com/chrome">Chrome</a>
         version 25 or later.</p>
    </div>

    <form class="search-form" method="get" target="_top"
      action="https://openlibrary.org/search.json">
      <label>
        Search for
        <input type="search" name="title" placeholder="Le Petit Prince" required>
      </label>

      
      <button type="submit">
        <amp-img src="img/microphone/mic.gif" width="50" height="50" alt="Microphone button">
        </amp-img>
      </button>

      <button id="start_button" onclick="startButton(event)">
        <img id="start_img" src="img/microphone/mic.gif" alt="Start">
      </button>

      <div id="div_language">
        <select id="select_language" onchange="updateCountry()">
          <option value="6">English</option>
          <option value="7">Español</option>
          <option value="14">Italiano</option>
          <option value="5">Deutsch</option>
          <option value="9">Français</option>
          <option value="16">Nederlands</option>
        </select>
        &nbsp;&nbsp;
        <select id="select_dialect">
          <option value="en-AU">Australia</option>
          <option value="en-CA">Canada</option>
          <option value="en-IN">India</option>
          <option value="en-NZ">New Zealand</option>
          <option value="en-ZA">South Africa</option>
          <option value="en-GB">United Kingdom</option>
          <option value="en-US">United States</option>
          <option value="es-AR">Argentina</option>
          <option value="es-BO">Bolivia</option>
          <option value="es-CL">Chile</option>
          <option value="es-CO">Colombia</option>
          <option value="es-CR">Costa Rica</option>
          <option value="es-EC">Ecuador</option>
          <option value="es-SV">El Salvador</option>
          <option value="es-ES">España</option>
          <option value="es-US">Estados Unidos</option>
          <option value="es-GT">Guatemala</option>
          <option value="es-HN">Honduras</option>
          <option value="es-MX">México</option>
          <option value="es-NI">Nicaragua</option>
          <option value="es-PA">Panamá</option>
          <option value="es-PY">Paraguay</option>
          <option value="es-PE">Perú</option>
          <option value="es-PR">Puerto Rico</option>
          <option value="es-DO">República Dominicana</option>
          <option value="es-UY">Uruguay</option>
          <option value="es-VE">Venezuela</option>
          <option value="it-IT">Italia</option>
          <option value="it-CH">Svizzera</option>
        </select>
      </div>
    </form>

    <amp-carousel layout="responsive" width="600" height="265" type="slides" autoplay delay="2000" loop>
      <amp-img src="https://covers.openlibrary.org/b/id/6627936-M.jpg"
        width="auto" height="265"
        alt="Book cover of the heart if a lonely hunter">
      </amp-img>
      <amp-img src="https://covers.openlibrary.org/b/id/97114-M.jpg"
        width="auto" height="265"
        alt="Book cover of the heart if a lonely hunter">
      </amp-img>
      <amp-img src="https://covers.openlibrary.org/b/id/6920387-M.jpg"
        width="auto" height="265"
        alt="Book cover of the heart if a lonely hunter">
      </amp-img>
      <amp-img src="https://covers.openlibrary.org/b/id/394799-M.jpg"
        width="auto" height="265"
        alt="Book cover of the heart if a lonely hunter">
      </amp-img>
      <amp-img src="https://covers.openlibrary.org/b/id/1302957-M.jpg"
        width="auto" height="265"
        alt="Book cover of the heart if a lonely hunter">
      </amp-img>
      <amp-img src="https://covers.openlibrary.org/b/id/8327874-M.jpg"
        width="auto" height="265"
        alt="Book cover of the heart if a lonely hunter">
      </amp-img>
      <amp-img src="https://covers.openlibrary.org/b/id/7586491-M.jpg"
        width="auto" height="265"
        alt="Book cover of the heart if a lonely hunter">
      </amp-img>
    </amp-carousel>

    <amp-install-serviceworker src="/sw.js" layout="nodisplay"></amp-install-serviceworker>
  </body>
</html>